<!DOCTYPE html> <html lang="en-US">   <head>     <meta charset="utf-8">     <meta name="viewport" content="width=device-width,initial-scale=1">     <title>Coding Guidelines - Sprout Documentation</title><meta name="description" content="A central principle of the Sprout Plugin Suite is to create an experience – for both users and developers – that looks and feels like the native experience with Craft CMS. Toward that end, wherever possible, Sprout adopts conventions set forth by Craft CMS. These conventions include"><link rel="canonical" href="https://sprout.barrelstrengthdesign.com/docs/coding-guidelines.html"><meta property="og:type" content="article"><meta property="og:site_name" content="Sprout Documentation"><meta property="og:url" content="https://sprout.barrelstrengthdesign.com/docs/coding-guidelines.html"><meta property="og:title" content="Coding Guidelines - Sprout Documentation"><meta property="og:description" content="A central principle of the Sprout Plugin Suite is to create an experience – for both users and developers – that looks and feels like the native experience with Craft CMS. Toward that end, wherever possible, Sprout adopts conventions set forth by Craft CMS. These conventions include"><meta property="og:image" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png"><meta property="og:image:secure_url" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png"><meta property="og:image:height" content="200"><meta property="og:image:width" content="200"><meta property="og:image:type" content="image/png"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://sprout.barrelstrengthdesign.com/docs/coding-guidelines.html"><meta name="twitter:site" content="@Barrel_Strength"><meta name="twitter:title" content="Coding Guidelines - Sprout Documentation"><meta name="twitter:description" content="A central principle of the Sprout Plugin Suite is to create an experience – for both users and developers – that looks and feels like the native experience with Craft CMS. Toward that end, wherever possible, Sprout adopts conventions set forth by Craft CMS. These conventions include"><meta name="twitter:image" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png">                    <link rel="preload" href="/docs/assets/css/0.styles.78c89a9c.css" as="style"><link rel="preload" href="/docs/assets/js/app.63bcbfba.js" as="script"><link rel="preload" href="/docs/assets/js/36.399d3b2a.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.9031eeb9.js"><link rel="prefetch" href="/docs/assets/js/100.90b987f5.js"><link rel="prefetch" href="/docs/assets/js/101.4125461d.js"><link rel="prefetch" href="/docs/assets/js/102.bb40f7ea.js"><link rel="prefetch" href="/docs/assets/js/103.95593052.js"><link rel="prefetch" href="/docs/assets/js/104.2e19b554.js"><link rel="prefetch" href="/docs/assets/js/105.cf140856.js"><link rel="prefetch" href="/docs/assets/js/106.5476fee3.js"><link rel="prefetch" href="/docs/assets/js/107.4b6ddc74.js"><link rel="prefetch" href="/docs/assets/js/108.05a19f21.js"><link rel="prefetch" href="/docs/assets/js/109.7d7775fa.js"><link rel="prefetch" href="/docs/assets/js/11.e0689439.js"><link rel="prefetch" href="/docs/assets/js/110.e9ec86c8.js"><link rel="prefetch" href="/docs/assets/js/111.66c895ce.js"><link rel="prefetch" href="/docs/assets/js/112.4982bfcc.js"><link rel="prefetch" href="/docs/assets/js/113.5353e7cf.js"><link rel="prefetch" href="/docs/assets/js/114.b2fa7a9e.js"><link rel="prefetch" href="/docs/assets/js/115.f1f88226.js"><link rel="prefetch" href="/docs/assets/js/116.9248f0f6.js"><link rel="prefetch" href="/docs/assets/js/117.a13a88c2.js"><link rel="prefetch" href="/docs/assets/js/118.1aebf015.js"><link rel="prefetch" href="/docs/assets/js/119.1c731d3d.js"><link rel="prefetch" href="/docs/assets/js/12.e8e9c64c.js"><link rel="prefetch" href="/docs/assets/js/120.b0512c2a.js"><link rel="prefetch" href="/docs/assets/js/121.4fd710ff.js"><link rel="prefetch" href="/docs/assets/js/122.0e18c7eb.js"><link rel="prefetch" href="/docs/assets/js/123.1b4621c4.js"><link rel="prefetch" href="/docs/assets/js/124.7beb7604.js"><link rel="prefetch" href="/docs/assets/js/125.29583b9c.js"><link rel="prefetch" href="/docs/assets/js/126.9a1f6927.js"><link rel="prefetch" href="/docs/assets/js/127.1b492b06.js"><link rel="prefetch" href="/docs/assets/js/128.7f7413f1.js"><link rel="prefetch" href="/docs/assets/js/129.20a0eebd.js"><link rel="prefetch" href="/docs/assets/js/13.5b6f3f98.js"><link rel="prefetch" href="/docs/assets/js/130.0857f726.js"><link rel="prefetch" href="/docs/assets/js/131.b9c634b6.js"><link rel="prefetch" href="/docs/assets/js/132.78d981fd.js"><link rel="prefetch" href="/docs/assets/js/133.9a1bdda6.js"><link rel="prefetch" href="/docs/assets/js/134.30c2863a.js"><link rel="prefetch" href="/docs/assets/js/135.93fd4f8c.js"><link rel="prefetch" href="/docs/assets/js/136.ab248367.js"><link rel="prefetch" href="/docs/assets/js/137.ba76b134.js"><link rel="prefetch" href="/docs/assets/js/138.c4e521d8.js"><link rel="prefetch" href="/docs/assets/js/139.d4414d4f.js"><link rel="prefetch" href="/docs/assets/js/14.09205dd9.js"><link rel="prefetch" href="/docs/assets/js/140.f8ef10b8.js"><link rel="prefetch" href="/docs/assets/js/141.7f464e69.js"><link rel="prefetch" href="/docs/assets/js/142.9d6631f1.js"><link rel="prefetch" href="/docs/assets/js/143.a46c7701.js"><link rel="prefetch" href="/docs/assets/js/144.13729cfd.js"><link rel="prefetch" href="/docs/assets/js/145.724d9e29.js"><link rel="prefetch" href="/docs/assets/js/146.0ab11ebd.js"><link rel="prefetch" href="/docs/assets/js/147.4e46f313.js"><link rel="prefetch" href="/docs/assets/js/148.ce0b0871.js"><link rel="prefetch" href="/docs/assets/js/149.3c7a8aa0.js"><link rel="prefetch" href="/docs/assets/js/15.b26fd6fa.js"><link rel="prefetch" href="/docs/assets/js/150.81e28112.js"><link rel="prefetch" href="/docs/assets/js/151.9f057759.js"><link rel="prefetch" href="/docs/assets/js/152.0af85f5b.js"><link rel="prefetch" href="/docs/assets/js/153.1c2c7525.js"><link rel="prefetch" href="/docs/assets/js/154.da8e2b04.js"><link rel="prefetch" href="/docs/assets/js/155.c24d0113.js"><link rel="prefetch" href="/docs/assets/js/156.129dded5.js"><link rel="prefetch" href="/docs/assets/js/157.81dd4b65.js"><link rel="prefetch" href="/docs/assets/js/158.06a1ac8e.js"><link rel="prefetch" href="/docs/assets/js/159.f431659c.js"><link rel="prefetch" href="/docs/assets/js/16.b960fd51.js"><link rel="prefetch" href="/docs/assets/js/160.375da4b0.js"><link rel="prefetch" href="/docs/assets/js/161.9469e7b6.js"><link rel="prefetch" href="/docs/assets/js/162.3bcefc66.js"><link rel="prefetch" href="/docs/assets/js/163.016b36a1.js"><link rel="prefetch" href="/docs/assets/js/164.c48e046a.js"><link rel="prefetch" href="/docs/assets/js/165.c686e780.js"><link rel="prefetch" href="/docs/assets/js/166.7b0aa844.js"><link rel="prefetch" href="/docs/assets/js/167.f220d963.js"><link rel="prefetch" href="/docs/assets/js/168.bc209a9e.js"><link rel="prefetch" href="/docs/assets/js/169.0fab8172.js"><link rel="prefetch" href="/docs/assets/js/17.4d3b8c18.js"><link rel="prefetch" href="/docs/assets/js/170.35828f00.js"><link rel="prefetch" href="/docs/assets/js/171.7d466b59.js"><link rel="prefetch" href="/docs/assets/js/172.56c41d18.js"><link rel="prefetch" href="/docs/assets/js/173.972f93bd.js"><link rel="prefetch" href="/docs/assets/js/174.9010b026.js"><link rel="prefetch" href="/docs/assets/js/175.cefd64b4.js"><link rel="prefetch" href="/docs/assets/js/176.d541b28e.js"><link rel="prefetch" href="/docs/assets/js/177.ec1088c8.js"><link rel="prefetch" href="/docs/assets/js/178.ff3bf84c.js"><link rel="prefetch" href="/docs/assets/js/179.e6bddc36.js"><link rel="prefetch" href="/docs/assets/js/18.071447f2.js"><link rel="prefetch" href="/docs/assets/js/180.a567a9db.js"><link rel="prefetch" href="/docs/assets/js/181.2055b2d6.js"><link rel="prefetch" href="/docs/assets/js/182.b8d946cd.js"><link rel="prefetch" href="/docs/assets/js/183.df240306.js"><link rel="prefetch" href="/docs/assets/js/184.874eab9f.js"><link rel="prefetch" href="/docs/assets/js/185.7147fbe4.js"><link rel="prefetch" href="/docs/assets/js/186.68060c1e.js"><link rel="prefetch" href="/docs/assets/js/187.13c2770e.js"><link rel="prefetch" href="/docs/assets/js/188.7ac2610f.js"><link rel="prefetch" href="/docs/assets/js/189.270252c8.js"><link rel="prefetch" href="/docs/assets/js/19.c2d441b3.js"><link rel="prefetch" href="/docs/assets/js/190.226fb956.js"><link rel="prefetch" href="/docs/assets/js/20.02fe03f4.js"><link rel="prefetch" href="/docs/assets/js/21.c81c7fe6.js"><link rel="prefetch" href="/docs/assets/js/22.7c165077.js"><link rel="prefetch" href="/docs/assets/js/23.3b01f6ec.js"><link rel="prefetch" href="/docs/assets/js/24.0a88b16c.js"><link rel="prefetch" href="/docs/assets/js/25.15ed3ccc.js"><link rel="prefetch" href="/docs/assets/js/26.a079704b.js"><link rel="prefetch" href="/docs/assets/js/27.4fdef04e.js"><link rel="prefetch" href="/docs/assets/js/28.fa013991.js"><link rel="prefetch" href="/docs/assets/js/29.443dee8e.js"><link rel="prefetch" href="/docs/assets/js/3.9d421044.js"><link rel="prefetch" href="/docs/assets/js/30.d090d71a.js"><link rel="prefetch" href="/docs/assets/js/31.23a0a8d9.js"><link rel="prefetch" href="/docs/assets/js/32.783de858.js"><link rel="prefetch" href="/docs/assets/js/33.a9b4e9c0.js"><link rel="prefetch" href="/docs/assets/js/34.d39c8471.js"><link rel="prefetch" href="/docs/assets/js/35.5aad7291.js"><link rel="prefetch" href="/docs/assets/js/37.a37d45aa.js"><link rel="prefetch" href="/docs/assets/js/38.b6d20e54.js"><link rel="prefetch" href="/docs/assets/js/39.13b0cdd5.js"><link rel="prefetch" href="/docs/assets/js/4.594841b3.js"><link rel="prefetch" href="/docs/assets/js/40.7ea76aa6.js"><link rel="prefetch" href="/docs/assets/js/41.75033679.js"><link rel="prefetch" href="/docs/assets/js/42.870841ef.js"><link rel="prefetch" href="/docs/assets/js/43.57b031ef.js"><link rel="prefetch" href="/docs/assets/js/44.a0fba7a2.js"><link rel="prefetch" href="/docs/assets/js/45.a86654c2.js"><link rel="prefetch" href="/docs/assets/js/46.34ab384e.js"><link rel="prefetch" href="/docs/assets/js/47.a3d6a490.js"><link rel="prefetch" href="/docs/assets/js/48.c11faa37.js"><link rel="prefetch" href="/docs/assets/js/49.9289f40c.js"><link rel="prefetch" href="/docs/assets/js/5.189af1fb.js"><link rel="prefetch" href="/docs/assets/js/50.ec8404c5.js"><link rel="prefetch" href="/docs/assets/js/51.0a79b499.js"><link rel="prefetch" href="/docs/assets/js/52.52a1c8b9.js"><link rel="prefetch" href="/docs/assets/js/53.64bf7f19.js"><link rel="prefetch" href="/docs/assets/js/54.a4a9a7b3.js"><link rel="prefetch" href="/docs/assets/js/55.b7c2c88d.js"><link rel="prefetch" href="/docs/assets/js/56.fe8f868b.js"><link rel="prefetch" href="/docs/assets/js/57.6eafae1a.js"><link rel="prefetch" href="/docs/assets/js/58.b739f911.js"><link rel="prefetch" href="/docs/assets/js/59.e675ce63.js"><link rel="prefetch" href="/docs/assets/js/6.73a3ccd8.js"><link rel="prefetch" href="/docs/assets/js/60.cf2a8516.js"><link rel="prefetch" href="/docs/assets/js/61.152810cf.js"><link rel="prefetch" href="/docs/assets/js/62.da22d181.js"><link rel="prefetch" href="/docs/assets/js/63.59006fcf.js"><link rel="prefetch" href="/docs/assets/js/64.9efd428e.js"><link rel="prefetch" href="/docs/assets/js/65.fc0a4dbf.js"><link rel="prefetch" href="/docs/assets/js/66.6d514924.js"><link rel="prefetch" href="/docs/assets/js/67.6716b55c.js"><link rel="prefetch" href="/docs/assets/js/68.9b716a2d.js"><link rel="prefetch" href="/docs/assets/js/69.dad5c706.js"><link rel="prefetch" href="/docs/assets/js/7.375edb6b.js"><link rel="prefetch" href="/docs/assets/js/70.060d91ad.js"><link rel="prefetch" href="/docs/assets/js/71.419b5cf7.js"><link rel="prefetch" href="/docs/assets/js/72.82a63c81.js"><link rel="prefetch" href="/docs/assets/js/73.d1ed1f12.js"><link rel="prefetch" href="/docs/assets/js/74.8d8a00b9.js"><link rel="prefetch" href="/docs/assets/js/75.8dc7557e.js"><link rel="prefetch" href="/docs/assets/js/76.7fbf0e93.js"><link rel="prefetch" href="/docs/assets/js/77.4673367b.js"><link rel="prefetch" href="/docs/assets/js/78.759c0047.js"><link rel="prefetch" href="/docs/assets/js/79.ba7e9bbd.js"><link rel="prefetch" href="/docs/assets/js/8.276a35a1.js"><link rel="prefetch" href="/docs/assets/js/80.8c34d8ce.js"><link rel="prefetch" href="/docs/assets/js/81.0ce2141c.js"><link rel="prefetch" href="/docs/assets/js/82.544e5396.js"><link rel="prefetch" href="/docs/assets/js/83.a669ccd1.js"><link rel="prefetch" href="/docs/assets/js/84.62941970.js"><link rel="prefetch" href="/docs/assets/js/85.05bc4581.js"><link rel="prefetch" href="/docs/assets/js/86.154b9d41.js"><link rel="prefetch" href="/docs/assets/js/87.470900b7.js"><link rel="prefetch" href="/docs/assets/js/88.6df96387.js"><link rel="prefetch" href="/docs/assets/js/89.4a7d37bf.js"><link rel="prefetch" href="/docs/assets/js/9.42a5cfde.js"><link rel="prefetch" href="/docs/assets/js/90.fde0bbcc.js"><link rel="prefetch" href="/docs/assets/js/91.5149aba5.js"><link rel="prefetch" href="/docs/assets/js/92.a26e3fd7.js"><link rel="prefetch" href="/docs/assets/js/93.62ddb036.js"><link rel="prefetch" href="/docs/assets/js/94.0fdb3008.js"><link rel="prefetch" href="/docs/assets/js/95.90025426.js"><link rel="prefetch" href="/docs/assets/js/96.d3d91912.js"><link rel="prefetch" href="/docs/assets/js/97.c4eeada3.js"><link rel="prefetch" href="/docs/assets/js/98.e5e0362f.js"><link rel="prefetch" href="/docs/assets/js/99.0a822f57.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.42ea0a79.js">     <link rel="stylesheet" href="/docs/assets/css/0.styles.78c89a9c.css">   </head>   <body>     <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewbox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Sprout Documentation</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/forms/" class="nav-link">Sprout Forms</a></li><li class="dropdown-item"><!----> <a href="/docs/seo/" class="nav-link">Sprout SEO</a></li><li class="dropdown-item"><!----> <a href="/docs/redirects/" class="nav-link">Sprout Redirects</a></li><li class="dropdown-item"><!----> <a href="/docs/sitemaps/" class="nav-link">Sprout Sitemaps</a></li><li class="dropdown-item"><!----> <a href="/docs/email/" class="nav-link">Sprout Email</a></li><li class="dropdown-item"><!----> <a href="/docs/campaigns/" class="nav-link">Sprout Campaigns</a></li><li class="dropdown-item"><!----> <a href="/docs/reports/" class="nav-link">Sprout Reports</a></li><li class="dropdown-item"><!----> <a href="/docs/import/" class="nav-link">Sprout Import</a></li><li class="dropdown-item"><!----> <a href="/docs/.html" class="nav-link">–</a></li><li class="dropdown-item"><!----> <a href="/docs/active/" class="nav-link">Sprout Active</a></li><li class="dropdown-item"><!----> <a href="/docs/encode-email/" class="nav-link">Sprout Encode Email</a></li><li class="dropdown-item"><!----> <a href="/docs/fields/" class="nav-link">Sprout Fields</a></li><li class="dropdown-item"><!----> <a href="/docs/lists/" class="nav-link">Sprout Lists</a></li><li class="dropdown-item"><!----> <a href="/docs/notes/" class="nav-link">Sprout Notes</a></li></ul></div></div><div class="nav-item"><a href="https://sprout.barrelstrengthdesign.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">   Back to Sprout →   <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/forms/" class="nav-link">Sprout Forms</a></li><li class="dropdown-item"><!----> <a href="/docs/seo/" class="nav-link">Sprout SEO</a></li><li class="dropdown-item"><!----> <a href="/docs/redirects/" class="nav-link">Sprout Redirects</a></li><li class="dropdown-item"><!----> <a href="/docs/sitemaps/" class="nav-link">Sprout Sitemaps</a></li><li class="dropdown-item"><!----> <a href="/docs/email/" class="nav-link">Sprout Email</a></li><li class="dropdown-item"><!----> <a href="/docs/campaigns/" class="nav-link">Sprout Campaigns</a></li><li class="dropdown-item"><!----> <a href="/docs/reports/" class="nav-link">Sprout Reports</a></li><li class="dropdown-item"><!----> <a href="/docs/import/" class="nav-link">Sprout Import</a></li><li class="dropdown-item"><!----> <a href="/docs/.html" class="nav-link">–</a></li><li class="dropdown-item"><!----> <a href="/docs/active/" class="nav-link">Sprout Active</a></li><li class="dropdown-item"><!----> <a href="/docs/encode-email/" class="nav-link">Sprout Encode Email</a></li><li class="dropdown-item"><!----> <a href="/docs/fields/" class="nav-link">Sprout Fields</a></li><li class="dropdown-item"><!----> <a href="/docs/lists/" class="nav-link">Sprout Lists</a></li><li class="dropdown-item"><!----> <a href="/docs/notes/" class="nav-link">Sprout Notes</a></li></ul></div></div><div class="nav-item"><a href="https://sprout.barrelstrengthdesign.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">   Back to Sprout →   <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Overview</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/" class="sidebar-link">Introduction</a></li><li><a href="/docs/why-sprout.html" class="sidebar-link">Why Sprout?</a></li><li><a href="/docs/core-concepts.html" class="sidebar-link">Core Concepts</a></li><li><a href="/docs/integrations.html" class="sidebar-link">Integrations</a></li><li><a href="/docs/multi-site.html" class="sidebar-link">Multi-Site</a></li><li><a href="/docs/businesses.html" class="sidebar-link">Agencies &amp; Enterprise</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Form Building</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/forms/" class="sidebar-link">Sprout Forms</a></li><li><a href="/docs/fields/" class="sidebar-link">Sprout Fields</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>SEO Metadata</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/seo/" class="sidebar-link">Sprout SEO</a></li><li><a href="/docs/redirects/" class="sidebar-link">Sprout Redirects</a></li><li><a href="/docs/sitemaps/" class="sidebar-link">Sprout Sitemaps</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Email Marketing</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/email/" class="sidebar-link">Sprout Email</a></li><li><a href="/docs/lists/" class="sidebar-link">Sprout Lists</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Data Ops</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/reports/" class="sidebar-link">Sprout Reports</a></li><li><a href="/docs/import/" class="sidebar-link">Sprout Import</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Misc</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/active/" class="sidebar-link">Sprout Active</a></li><li><a href="/docs/encode-email/" class="sidebar-link">Sprout Encode Email</a></li><li><a href="/docs/notes/" class="sidebar-link">Sprout Notes</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Support</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/support/feature-requests.html" class="sidebar-link">Feature Requests</a></li><li><a href="/docs/support/bugs.html" class="sidebar-link">Bugs</a></li><li><a href="/docs/support/changelog.html" class="sidebar-link">Changelog</a></li><li><a href="/docs/support/pricing.html" class="sidebar-link">Pricing</a></li><li><a href="/docs/support/training.html" class="sidebar-link">Training</a></li><li><a href="/docs/support/support.html" class="sidebar-link">Support</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Development</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/tools/php-storm.html" class="sidebar-link">PhpStorm</a></li><li><a href="/docs/tools/sublime-text.html" class="sidebar-link">Sublime Text</a></li><li><a href="/docs/tools/craftnet.html" class="sidebar-link">Craftnet</a></li></ul></div></li></ul> </div> <div class="page"><!---->  <div class="content"><h1>Coding Guidelines</h1> <p>A central principle of the Sprout Plugin Suite is to create an experience – for both users and developers – that looks and feels like the native experience with Craft CMS. Toward that end, wherever possible, Sprout adopts conventions set forth by Craft CMS. These conventions include</p> <div class="table"><table><thead><tr><th style="text-align:left">Convention</th> <th style="text-align:left">Notes</th></tr></thead> <tbody><tr><td style="text-align:left"><a href="https://github.com/craftcms/cms" target="_blank" rel="noopener noreferrer">Craft CMS codebase<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">Use the Craft APIs in the same way that Craft uses them</td></tr> <tr><td style="text-align:left"><a href="https://docs.craftcms.com/v3/extend/coding-guidelines.html" target="_blank" rel="noopener noreferrer">Coding Guidelines<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left"></td></tr> <tr><td style="text-align:left"><a href="https://github.com/craftcms/phpstorm-settings" target="_blank" rel="noopener noreferrer">Craft Code Style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">PhpStorm Craft Code Style settings</td></tr> <tr><td style="text-align:left"><a href="https://github.com/craftcms/phpstorm-settings" target="_blank" rel="noopener noreferrer">Craft Inspections<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">PhpStorm Craft Code Style settings</td></tr> <tr><td style="text-align:left"><a href="https://plugins.jetbrains.com/plugin/7622-php-inspections-ea-extended-" target="_blank" rel="noopener noreferrer">Php Inspections (EA Extended)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">Help monitor and adhere to conventions in PhpStorm.</td></tr> <tr><td style="text-align:left"><a href="https://plugins.jetbrains.com/plugin/7622-php-inspections-ea-extended-" target="_blank" rel="noopener noreferrer">Yii Inspections<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">Adds some Yii 2 and Craft-specific inspections in PhpStorm.</td></tr> <tr><td style="text-align:left"><a href="https://github.com/craftcms/sass" target="_blank" rel="noopener noreferrer">Sass Mixins for Craft CMS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">Extend Control Panel templates with Craft conventions</td></tr> <tr><td style="text-align:left"><a href="https://www.npmjs.com/package/@pixelandtonic/craftui" target="_blank" rel="noopener noreferrer">Craft UI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td style="text-align:left">A collection of Vue.js components and styles for Craft CMS apps.</td></tr></tbody></table></div> <h2 id="sprout-guidelines"><a href="#sprout-guidelines" aria-hidden="true" class="header-anchor">#</a> Sprout Guidelines</h2> <p>We also have several conventions that are specific to our Sprout plugins. Where we can, we try to align these with conventions in the Craft community.</p> <h2 id="git-workflow-and-branching"><a href="#git-workflow-and-branching" aria-hidden="true" class="header-anchor">#</a> Git Workflow and Branching</h2> <p>We largely follow the <a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noopener noreferrer">Git branching model<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> popularized by Vincent Driessen with a few updates to better fit our workflow.</p> <div><p>As we have to maintain multiple master copies of our plugins, instead of a <code>master</code> branch, we maintain multiple master version branches. These branches are named using the format <code>v[Version Number]</code> where <code>v2</code> would represent all releases for the <code>v2.x.x</code> branch of the software. These version numbers correlate with the plugin version numbers, not the Craft version number, as we may have multiple major releases of a plugin for a single release of Craft.</p></div> <ul><li>develop</li> <li>feature/feature-name</li> <li>bugfix/bugfix-name</li> <li>v1</li> <li>v2</li> <li>v3</li></ul> <h2 id="naming"><a href="#naming" aria-hidden="true" class="header-anchor">#</a> Naming</h2> <div class="table"><table><thead><tr><th style="text-align:left">Use Case</th> <th style="text-align:left">Naming Convention</th></tr></thead> <tbody><tr><td style="text-align:left">GitHub repo</td> <td style="text-align:left">craft-sprout-forms</td></tr> <tr><td style="text-align:left">Composer require</td> <td style="text-align:left">barrelstrength/craft-sprout-forms</td></tr> <tr><td style="text-align:left">Plugin folder</td> <td style="text-align:left">sprout-forms</td></tr> <tr><td style="text-align:left">Namespace</td> <td style="text-align:left">barrelstrength/sproutforms</td></tr></tbody></table></div> <h2 id="folder-structure"><a href="#folder-structure" aria-hidden="true" class="header-anchor">#</a> Folder Structure</h2> <h3 id="the-top-level"><a href="#the-top-level" aria-hidden="true" class="header-anchor">#</a> The top level</h3> <ul><li>plugin-handle/lib - any third-party libraries</li> <li>plugin-handle/src - the plugin application</li> <li>plugin-handle/.gitignore - standard .gitignore</li> <li>plugin-handle/CHANGELOG.md - Follow Craft CHANGELOG docs</li> <li>plugin-handle/README.md - Very basic overview that points to main documentation. See format for both commercial and free plugins.</li> <li>plugin-handle/LICENSE.md - Craft License or MIT License</li> <li>plugin-handle/composer.json - See Craft composer.json docs. We keep this file light. Two things to note. Don't add schemaVersion, hasCpSection, hasCpSettings to this file. They should go in the primary plugin module class. Also, this file should set the 'extra-&gt;class' setting to define the Plugin.php as a file with the name of the plugin itself.</li></ul> <h3 id="the-src-folder-craft-conventions"><a href="#the-src-folder-craft-conventions" aria-hidden="true" class="header-anchor">#</a> The src folder - Craft Conventions</h3> <div><ul><li>plugin-handle/src/Plugin.php - This file will usually be renamed to a class with the same name as the plugin. i.e. SproutForms.php. If necessary, we also set schemaVersion, hasCpSection, hasCpSettings in this file as it's easier to toggle those settings in development as Craft doesn't cache them in Craft's plugins.php file.</li> <li>plugin-handle/src/translations/en - We prepare a single translation file in English that others can use to translate a plugin.</li> <li>plugin-handle/src/templates/_components - Any template partials needed for Craft or the plugin itself.</li> <li>plugin-handle/src/templates/_components/componenttype/ComponentClassName/template.html - All components should follow this general structure if possible. Third-party plugin integrations will use a similar structure in the <code>_integrations</code> folder.</li></ul></div> <h3 id="the-src-folder-unique-plugin-components"><a href="#the-src-folder-unique-plugin-components" aria-hidden="true" class="header-anchor">#</a> The src folder - Unique Plugin Components</h3> <ul><li>plugin-handle/src/base/ComponentType.php - The base class for new components we add to the ecosystem</li> <li>plugin-handle/src/componenttype - If a plugin adds a custom component we include in a folder at the top level that references the name of the component type.</li></ul> <h3 id="front-end-resources-in-the-src-folder"><a href="#front-end-resources-in-the-src-folder" aria-hidden="true" class="header-anchor">#</a> Front-end resources in the src folder</h3> <ul><li>plugin-handle/src/web - all things relating to Assets or Twig</li> <li>plugin-handle/src/web/assets/assetbundlename/AssetBundleName.php</li> <li>plugin-handle/src/web/twig/ - Twig things Extensions, Nodes, etc.</li> <li>plugin-handle/src/web/variables/VariableName.php - Variable classes</li></ul> <h3 id="integrations-with-other-plugins"><a href="#integrations-with-other-plugins" aria-hidden="true" class="header-anchor">#</a> Integrations with other plugins</h3> <div><ul><li>plugin-handle/src/integrations/pluginname/componenttype/ComponentClassName.php</li> <li>plugin-handle/src/integrations/pluginname/componenttype/componentsubtype/ComponentClassName.php - for some components, we need an additional folder for a subtype</li> <li>plugin-handle/src/templates/_components/pluginname/componenttype/ComponentClassName/template.html - Integrations are structured like components but exist in a subfolder that namespaces them by the plugin they relate to <code>_components/pluginname/...</code></li></ul></div> <h2 id="common-functionality"><a href="#common-functionality" aria-hidden="true" class="header-anchor">#</a> Common Functionality</h2> <p>Many Sprout plugins share functionality and this code is managed in shared Yii Modules.</p> <div class="table"><table><thead><tr><th style="text-align:left">Module</th> <th style="text-align:left">Description</th></tr></thead> <tbody><tr><td style="text-align:left">barrelstrength/sprout-base</td> <td style="text-align:left">Common settings and UI components</td></tr> <tr><td style="text-align:left">barrelstrength/sprout-base-email</td> <td style="text-align:left">Common email functionality</td></tr> <tr><td style="text-align:left">barrelstrength/sprout-base-reports</td> <td style="text-align:left">Common reporting functionality</td></tr> <tr><td style="text-align:left">barrelstrength/sprout-base-import</td> <td style="text-align:left">Common import functionality</td></tr> <tr><td style="text-align:left">barrelstrength/sprout-base-fields</td> <td style="text-align:left">Common field functionality</td></tr> <tr><td style="text-align:left">barrelstrength/sprout-base-lists</td> <td style="text-align:left">Common list functionality</td></tr></tbody></table></div> <p>Link to Sprout Base Documentation. Normalize plugin behavior where we can.</p> <ul><li>Macros (manage in Sprout Base)</li> <li>Helpers</li> <li>Use Sprout Core for settings management</li> <li>Use Sprout Core for all plugin icons</li> <li>Fields, and Fields in the UI</li> <li>Email, Import, Reports</li> <li>Add Plugin Name Override setting if CP section exists</li> <li>All custom fields should be managed in Sprout Fields</li> <li>Add CHANGELOG file to all plugins (only update this when preparing release)</li> <li>Event naming conventions should follow Craft conventions EVENT_AFTER_ELEMENT_SAVE EVENT_BEFORE_CREATE_BACKUP EVENT_REGISTER_WIDGET_TYPES EVENT_REGISTER_CP_TEMPLATE_ROOTS EVENT_REGISTER_IMPORTER EVENT_REGISTER_IMPORTER_TYPES EVENT_REGISTER_THEME_TYPES</li></ul> <h2 id="translations"><a href="#translations" aria-hidden="true" class="header-anchor">#</a> Translations</h2> <p>Use the default Craft conventions for translations. This allows us to benefit from the Yii Inspections that allow us to bulk add and remove translations.</p> <div><div class="table"><table><thead><tr><th style="text-align:left">Context</th> <th style="text-align:left">Translation Convention</th></tr></thead> <tbody><tr><td style="text-align:left">PHP</td> <td style="text-align:left"><code>Craft::t('sprout-forms', 'Message');</code></td></tr> <tr><td style="text-align:left">Twig</td> <td style="text-align:left"><code>{{ &quot;Message&quot;|t('sprout-forms') }}</code></td></tr> <tr><td style="text-align:left">CP Javascript</td> <td style="text-align:left"><code>Craft:t('sprout-forms');</code></td></tr></tbody></table></div></div> <p>Each plugin or module maintains it's own translation file. As some plugins depend on multiple modules for their functionality, this may mean that someone translating a plugin will also have to translate translation files in other modules. For example, to completely translate Sprout Forms one would need to translate the files in Sprout Forms, Sprout Base Fields, and Sprout Base.</p> <h2 id="database-queries"><a href="#database-queries" aria-hidden="true" class="header-anchor">#</a> Database Queries</h2> <ul><li>Make sure columns are wrapped with double brackets: [[columnname]] https://www.yiiframework.com/doc/guide/2.0/en/db-dao#quoting-table-and-column-names</li></ul> <h2 id="migrations"><a href="#migrations" aria-hidden="true" class="header-anchor">#</a> Migrations</h2> <p>Due to our application structure using shared modules, in some cases migrations may need to be run by multiple plugins and it may not be predictable which order they get run in. To address this, we use the following conventions:</p> <ul><li>Make sure every migration can be run twice, without throwing errors if it has already been run once.</li> <li>All migrations that affect a plugin with a shared module should be placed in the base module and instances of those migrations should be created in each respective plugin where they are needed.</li></ul> <h3 id="naming-migrations"><a href="#naming-migrations" aria-hidden="true" class="header-anchor">#</a> Naming migrations</h3> <h4>Order</h4> <p>Migration naming will use the date in the first segment and the second segment will just represent the order that they should be run in for a particular release. The following migrations are all be part of a release on the same day, and are ordered 1, 2, 3 in the order they should run:</p> <ul><li>m190101_000001_migration_description</li> <li>m190101_000002_migration_description</li> <li>m190101_000003_migration_description</li></ul> <h4>Migrations used by multiple plugins</h4> <p>Any migration instance that is just running a migration in base module should use the same name as the base migration and append the plugin name that it is being run from.</p> <div class="table"><table><thead><tr><th style="text-align:left">Migration Name</th> <th style="text-align:left">Plugin/Module Name</th></tr></thead> <tbody><tr><td style="text-align:left">m190101_000001_migration_description</td> <td style="text-align:left">Sprout Base Email</td></tr> <tr><td style="text-align:left">m190101_000001_migration_description_sproutemail</td> <td style="text-align:left">Sprout Email</td></tr> <tr><td style="text-align:left">m190101_000001_migration_description_sproutforms</td> <td style="text-align:left">Sprout Forms</td></tr></tbody></table></div> <h2 id="the-plugin-class"><a href="#the-plugin-class" aria-hidden="true" class="header-anchor">#</a> The Plugin Class</h2> <h3 id="using-sprout-base"><a href="#using-sprout-base" aria-hidden="true" class="header-anchor">#</a> Using Sprout Base</h3> <p>To include Sprout Base, in your plugins init() method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      SproutBaseHelper<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></pre></div><h3 id="including-base-sprout-trait"><a href="#including-base-sprout-trait" aria-hidden="true" class="header-anchor">#</a> Including Base Sprout Trait</h3> <p>Include Base Sprout Trait to simplify logging Errors, Warnings, and Info. Requires setting the $pluginHandle variable.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">SproutForms</span> <span class="token keyword">extends</span> <span class="token class-name">Plugin</span> <span class="token punctuation">{</span>     <span class="token keyword">use</span> <span class="token package">BaseSproutTrait</span><span class="token punctuation">;</span>      <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$pluginHandle</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'sprout-forms'</span><span class="token punctuation">;</span>      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">}</span> <span class="token punctuation">}</span> </code></pre></div><h3 id="registering-components"><a href="#registering-components" aria-hidden="true" class="header-anchor">#</a> Registering components</h3> <p>In many of our plugins, we setup a component named app. We do this in the plugin's primary module class</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">barrelstrength<span class="token punctuation">\</span>sproutforms<span class="token punctuation">\</span>services<span class="token punctuation">\</span>App</span><span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$app</span><span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setComponents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>         <span class="token single-quoted-string string">'app'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> App<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span>     <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$app</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></pre></div><h2 id="console-requests"><a href="#console-requests" aria-hidden="true" class="header-anchor">#</a> Console Requests</h2> <div class="split"><div class="left"><p>Any actions that are run via console, the queue, or might be used in a third-party plugin via a queue are considered console requests and we should support them by avoiding to use any Web-only methods.</p> <div><p>Web-only Application methods can be seen in <code>craftcms/cms/src/config/app.web.php</code> and should only be used in Web Controllers. Logic in Models and the Service Layer should depend only on classes that are supported by both Web and Console requests.</p></div> <div><p>Web-only Application classes include classes loaded as components in the <code>app.web.php</code> file:</p></div> <ul><li>craft\web\AssetManager</li> <li>craft\web\Request</li> <li>craft\web\Response</li> <li>craft\web\Session</li> <li>craft\web\UrlManager</li> <li>craft\web\User</li> <li>craft\web\ErrorHandler</li></ul> <div><p>And any other classes found in the <code>craftcms/cms/src/web</code> folder:</p></div> <ul><li>craft\web\AssetBundle</li> <li>craft\web\Controller</li> <li>craft\web\ServiceUnavailableHttpException</li> <li>craft\web\UploadedFile</li> <li>craft\web\UrlRule</li> <li>craft\web\View</li></ul> <p>Don't use Web-only methods outside of Web Controllers. Ways to test for this? Search for ann Craft::$app-&gt;getRequest methods outside of Web controllers. Run ./craft help and see if you get any errors.</p></div> <div class="right"><p>Exclude vendor folder from repos. Add vendor to standard gitignore.</p> <p>Devs should run composer update locally and Craft will install this for us at the application level.</p></div></div> <h2 id="pre-release-checklist"><a href="#pre-release-checklist" aria-hidden="true" class="header-anchor">#</a> Pre-Release Checklist</h2> <ul><li>Run &quot;yarn outdated&quot; to test before releases and on projects to determine what needs updated.</li> <li>Run PHPStorm Inspections (Craft Inspections, general PHP inspections) and make sure there are no errors we need to fix</li> <li>Run PHPStorm Reformat Code (Command+Option L) on all files (PHP, Twig, Javascript, CSS). Ensure all code has proper formatting.</li> <li>Confirm all @todo flags in the codebase are still relevant or removed</li> <li>Confirm all @deprecated flags in the codebase are still relevant or removed</li> <li>Ensure all methods have proper comment blocks</li> <li>Run any tests we can programmatically</li> <li>After database updates, ensure db schema for a fresh install and after an update are the same</li> <li>Make sure all text has translation categories in PHP and Twig and JS: t('sprout-forms-countries')</li> <li>Update any translations in the default en translation file using Craft::t and the PhpStorm inspection. Run various checks to make sure we are passing text through the necessary translate filters for PHP, HTML, and JS.</li> <li>Make sure all database queries are compatible with MySQL and PostgreSQL</li></ul> <p><em>Note: where we can, we want to automate these tasks and incorporate them into our workflow</em></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/barrelstrength/sprout-docs/edit/develop/docs/coding-guidelines.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>     <script src="/docs/assets/js/app.63bcbfba.js" defer></script><script src="/docs/assets/js/36.399d3b2a.js" defer></script>   </body> </html> 