(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{295:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",[t._v("Resolving Relationships")]),t._m(0),a("code-toggle",{attrs:{languages:["craft3","craft2"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": {\n        "categoryRelationsHandle": [4, 5, 6]\n      }\n    }\n  }\n]\n')])])])]),a("template",{slot:"craft2"},[a("div",{staticClass:"language-craft2 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "EntryModel",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": {\n        "categoryRelationsHandle": [4, 5, 6]\n      }\n    }\n  }\n]\n')])])])])],2),t._m(1),t._m(2),t._m(3),a("code-toggle",{attrs:{languages:["craft3","craft2"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { \n      ...\n      "related": {\n        "attributeToTarget": {\n          "@model": "importer\\\\for\\\\target\\\\attribute",\n          "params": { ... }\n        }\n      }\n    },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "relationsFieldToTarget": {\n          "@model": "importer\\\\for\\\\target\\\\Element",\n          "params": { ... }\n        }\n      }\n    }\n  }\n]\n')])])])]),a("template",{slot:"craft2"},[a("div",{staticClass:"language-craft2 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "EntryModel",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "relationsFieldToTarget": {\n          "@model": "ImporterModel",\n          "matchBy": "paramName",\n          "matchValue": "paramValue",\n          "matchCriteria": {\n            ...\n          }\n        }\n      }\n    }\n  }\n]\n')])])])])],2),a("p",[t._v("Consider the following, more-specific scenarios:")]),t._m(4),t._m(5),a("code-toggle",{attrs:{languages:["craft3","craft2"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "categoryRelationsHandle": {\n          "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Category",\n          "params": {\n            "slug": ["category-slug-one","category-slug-two"],\n            "groupId": 1\n          }\n        }\n      }\n    }\n  }\n]\n')])])])]),a("template",{slot:"craft2"},[a("div",{staticClass:"language-craft2 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "EntryModel",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "categoryRelationsHandle": {\n          "@model": "CategoryModel",\n          "matchBy": "slug",\n          "matchValue": ["category-slug-one","category-slug-two"],\n          "matchCriteria": {\n            "groupId": 1\n          }\n        }\n      }\n    }\n  }\n]\n')])])])])],2),t._m(6),t._m(7),a("code-toggle",{attrs:{languages:["craft3","craft2"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "thumbnailImage": {\n          "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Asset",\n          "params": {\n            "filename": ["ImageName03.jpg"],\n            "volumeId": "1",\n            "folderId": 8\n          }\n        }\n      }\n    }\n  }\n]\n')])])])]),a("template",{slot:"craft2"},[a("div",{staticClass:"language-craft2 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "EntryModel"\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "thumbnailImage": {\n          "@model": "AssetModel",\n          "matchBy": "filename",\n          "matchValue": ["ImageName03.jpg"],\n          "matchCriteria": {\n            "source": "images",\n            "folderId": 8\n          }\n        }\n      }\n    }\n  }\n]\n')])])])])],2),t._m(8),a("p",[t._v("In this example we'll match User Relations to a custom field with an old ID for the User you wish to relate to.")]),a("p",[t._v("Let's say you are migrating content from an another database. You migrate over the users but when you import them into Craft, the IDs for that user are different. To help with the migration process it's sometimes helpful to create a custom field called \"Old ID\" and import the ID that identified the item you are importing in the old system.")]),a("p",[t._v("Once that is in place, you can prepare your import to match content related to that particular User based on the Old ID value that the user was related with in the old system.")]),t._m(9),a("code-toggle",{attrs:{languages:["craft3","craft2"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "relatedAuthors": {\n          "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\User",\n          "params": {\n            "oldId": [\n              89,\n              139,\n              95\n            ],\n            "groupId": 3\n          }\n        }\n      }\n    }\n  }\n]\n')])])])]),a("template",{slot:"craft2"},[a("div",{staticClass:"language-craft2 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "EntryModel",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "relatedAuthors": {\n          "@model": "UserModel",\n          "matchBy": "oldId",\n          "matchValue": [\n            89,\n            139,\n            95\n          ],\n          "matchCriteria": {\n            "groupId": 3\n          }\n        }\n      }\n    }\n  }\n]\n')])])])])],2),t._m(10),a("div",{staticClass:"split"},[a("div",{staticClass:"left"},[a("p",[t._v("In this example we'll match any related entries that use a particular keyword in the title field.")]),a("code-toggle",{attrs:{languages:["craft3"]}},[a("template",{slot:"craft3"},[a("div",{staticClass:"language-craft3 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[\n  {\n    "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n    "attributes": { ... },\n    "content": {\n      "title": "In quaerat maiores sit est rerum iusto.",\n      "fields": { ... },\n      "related": {\n        "relatedPosts": {\n          "@model": "barrelstrength\\\\sproutbase\\\\app\\\\import\\\\importers\\\\elements\\\\Entry",\n          "params": {\n            "search": "title:*keyword*" \n          }\n        }\n      }\n    }\n  }\n]\n')])])])])],2)],1),a("div",{staticClass:"right"})]),t._m(11),a("div",{staticClass:"split"},[a("div",{staticClass:"left"},[a("div",{pre:!0},[a("p",[t._v("The "),a("code",[t._v("related")]),t._v(" key is also supported within the "),a("code",[t._v("attributes")]),t._v(" array. See the docs on "),a("router-link",{attrs:{to:"./related-attributes.html"}},[t._v("Related Attributes")]),t._v(" for more info.")],1)])]),a("div",{staticClass:"right"})]),t._m(12),a("div",{staticClass:"split"},[a("div",{staticClass:"left"},[a("div",{pre:!0},[a("p",[t._v("The "),a("code",[t._v("related")]),t._v(" key is also supported within the Matrix Block "),a("code",[t._v("fields")]),t._v(" array. See the docs on "),a("router-link",{attrs:{to:"./matrix-field.html"}},[t._v("Importing a Matrix Field")]),t._v(" for more info.")],1)])]),a("div",{staticClass:"right"})]),t._m(13),a("p",[t._v("If you need relate and item but you can't be certain the related item is already in the database, see "),a("router-link",{attrs:{to:"./create-elements-on-the-fly.html"}},[t._v("Creating Elements on The Fly")])],1)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{pre:!0},[e("p",[this._v("Sprout Import can help you resolve relationships based on attributes and query parameters. In the most direct way, you can import known relational data using the same data structure as Craft – an array of Element IDs "),e("code",[this._v("[4, 5, 6]")]),this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"the-related-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-related-key","aria-hidden":"true"}},[this._v("#")]),this._v(" The Related Key")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{pre:!0},[a("p",[t._v("Sometimes you know you want to populate a relations field but you don't know the Element ID in Craft. In these cases, the "),a("code",[t._v("related")]),t._v(" key can come in handy. The "),a("code",[t._v("related")]),t._v(" key is available to supported "),a("code",[t._v("attributes")]),t._v(" and Element Relations fields in your "),a("code",[t._v("content")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{pre:!0},[e("p",[this._v("Here's a general example of how to structure an import using the "),e("code",[this._v("related")]),this._v(" key:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"match-relations-by-slug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#match-relations-by-slug","aria-hidden":"true"}},[this._v("#")]),this._v(" Match Relations by slug")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The code below says "),e("em",[this._v("if you find any Categories that are using the values “category-slug-one” or “category-slug-two” as their slug in the Category Group with ID number 1, then create a relationship with that category to the “categoryRelationsHandle” field on this Entry Element.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"match-assets-by-filename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#match-assets-by-filename","aria-hidden":"true"}},[this._v("#")]),this._v(" Match Assets by filename")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The code below says "),e("em",[this._v('if you find any Assets that are using the value “ImageName03.jpg” as their filename in the Asset Source "images" in the folder with "folderId" equal to 8, then create a relationship with that Asset to the “thumbnailImage” field on this Entry Element.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"match-a-legacy-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#match-a-legacy-id","aria-hidden":"true"}},[this._v("#")]),this._v(" Match a Legacy ID")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The code below says "),e("em",[this._v('if you find any Users that have the values 89, 139 or 95 in the custom field with the handle "oldId" in the User Group with ID number 3, then create a relationship with that User to the “relatedAuthors” field on this Entry Element.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"partial-matching"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#partial-matching","aria-hidden":"true"}},[this._v("#")]),this._v(" Partial Matching")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"attribute-relations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#attribute-relations","aria-hidden":"true"}},[this._v("#")]),this._v(" Attribute Relations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"matrix-relations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#matrix-relations","aria-hidden":"true"}},[this._v("#")]),this._v(" Matrix Relations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"non-existent-relations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#non-existent-relations","aria-hidden":"true"}},[this._v("#")]),this._v(" Non-Existent Relations")])}],!1,null,null,null);s.options.__file="resolve-relationships.md";e.default=s.exports}}]);