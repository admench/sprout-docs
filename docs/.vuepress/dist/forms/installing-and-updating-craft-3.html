<!DOCTYPE html> <html lang="en-US">   <head>     <meta charset="utf-8">     <meta name="viewport" content="width=device-width,initial-scale=1">     <title>Craft 3 - Sprout Documentation</title><meta name="description" content="Sprout Forms installation and update instructions for Craft 3."><link rel="canonical" href="https://sprout.barrelstrengthdesign.com/docs/forms/installing-and-updating-craft-3.html"><meta property="og:type" content="article"><meta property="og:site_name" content="Sprout Documentation"><meta property="og:url" content="https://sprout.barrelstrengthdesign.com/docs/forms/installing-and-updating-craft-3.html"><meta property="og:title" content="Craft 3 - Sprout Documentation"><meta property="og:description" content="Sprout Forms installation and update instructions for Craft 3."><meta property="og:image" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png"><meta property="og:image:secure_url" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png"><meta property="og:image:height" content="200"><meta property="og:image:width" content="200"><meta property="og:image:type" content="image/png"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://sprout.barrelstrengthdesign.com/docs/forms/installing-and-updating-craft-3.html"><meta name="twitter:site" content="@Barrel_Strength"><meta name="twitter:title" content="Craft 3 - Sprout Documentation"><meta name="twitter:description" content="Sprout Forms installation and update instructions for Craft 3."><meta name="twitter:image" content="https://s3.amazonaws.com/sprout.barrelstrengthdesign.com-assets/content/plugins/sprout-plugins-logo.png">          <meta name="generator" content="VuePress 1.3.0">               <link rel="preload" href="/docs/assets/css/0.styles.13173d6e.css" as="style"><link rel="preload" href="/docs/assets/js/app.2df69337.js" as="script"><link rel="preload" href="/docs/assets/js/3.cebffabe.js" as="script"><link rel="preload" href="/docs/assets/js/88.c1a5beef.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.c81a2f91.js"><link rel="prefetch" href="/docs/assets/js/100.0c8fab38.js"><link rel="prefetch" href="/docs/assets/js/101.a4d0e2aa.js"><link rel="prefetch" href="/docs/assets/js/102.2d971f8b.js"><link rel="prefetch" href="/docs/assets/js/103.1695d7b6.js"><link rel="prefetch" href="/docs/assets/js/104.e41725c7.js"><link rel="prefetch" href="/docs/assets/js/105.ee9a485f.js"><link rel="prefetch" href="/docs/assets/js/106.17ec3ef4.js"><link rel="prefetch" href="/docs/assets/js/107.2d25a56a.js"><link rel="prefetch" href="/docs/assets/js/108.0c2ab4b7.js"><link rel="prefetch" href="/docs/assets/js/109.cb4e7dca.js"><link rel="prefetch" href="/docs/assets/js/11.564e0ef5.js"><link rel="prefetch" href="/docs/assets/js/110.02d66153.js"><link rel="prefetch" href="/docs/assets/js/111.bcbcaf18.js"><link rel="prefetch" href="/docs/assets/js/112.e5af1ff5.js"><link rel="prefetch" href="/docs/assets/js/113.3f20c6f5.js"><link rel="prefetch" href="/docs/assets/js/114.039e9cf8.js"><link rel="prefetch" href="/docs/assets/js/115.375c8fa4.js"><link rel="prefetch" href="/docs/assets/js/116.fd61326b.js"><link rel="prefetch" href="/docs/assets/js/117.8d416ba2.js"><link rel="prefetch" href="/docs/assets/js/118.d0089dec.js"><link rel="prefetch" href="/docs/assets/js/119.77bd499f.js"><link rel="prefetch" href="/docs/assets/js/12.b92563cb.js"><link rel="prefetch" href="/docs/assets/js/120.c9fc8799.js"><link rel="prefetch" href="/docs/assets/js/121.c5a48220.js"><link rel="prefetch" href="/docs/assets/js/122.f8c94f13.js"><link rel="prefetch" href="/docs/assets/js/123.857f6276.js"><link rel="prefetch" href="/docs/assets/js/124.f93483db.js"><link rel="prefetch" href="/docs/assets/js/125.7bbd4e81.js"><link rel="prefetch" href="/docs/assets/js/126.12cb6abf.js"><link rel="prefetch" href="/docs/assets/js/127.e00a424c.js"><link rel="prefetch" href="/docs/assets/js/128.e6b573e6.js"><link rel="prefetch" href="/docs/assets/js/129.6b2d7b15.js"><link rel="prefetch" href="/docs/assets/js/13.6639f591.js"><link rel="prefetch" href="/docs/assets/js/130.564af7e6.js"><link rel="prefetch" href="/docs/assets/js/131.53d0e0aa.js"><link rel="prefetch" href="/docs/assets/js/132.7f3e4bc6.js"><link rel="prefetch" href="/docs/assets/js/133.b25d51bd.js"><link rel="prefetch" href="/docs/assets/js/134.169ab92a.js"><link rel="prefetch" href="/docs/assets/js/135.93d2e0e6.js"><link rel="prefetch" href="/docs/assets/js/136.55c660f6.js"><link rel="prefetch" href="/docs/assets/js/137.c55e3778.js"><link rel="prefetch" href="/docs/assets/js/138.14d1c4fc.js"><link rel="prefetch" href="/docs/assets/js/139.bf0566d8.js"><link rel="prefetch" href="/docs/assets/js/14.9b04570d.js"><link rel="prefetch" href="/docs/assets/js/140.14c9e7ca.js"><link rel="prefetch" href="/docs/assets/js/141.3fb8a0b1.js"><link rel="prefetch" href="/docs/assets/js/142.cccc18bc.js"><link rel="prefetch" href="/docs/assets/js/143.a027cfb0.js"><link rel="prefetch" href="/docs/assets/js/144.34d08400.js"><link rel="prefetch" href="/docs/assets/js/145.11ff9713.js"><link rel="prefetch" href="/docs/assets/js/146.379f2320.js"><link rel="prefetch" href="/docs/assets/js/147.151a367c.js"><link rel="prefetch" href="/docs/assets/js/148.1a961372.js"><link rel="prefetch" href="/docs/assets/js/149.689fc6b2.js"><link rel="prefetch" href="/docs/assets/js/15.a0ea02a5.js"><link rel="prefetch" href="/docs/assets/js/150.5448bdbb.js"><link rel="prefetch" href="/docs/assets/js/151.cad07d1f.js"><link rel="prefetch" href="/docs/assets/js/152.ba696c9d.js"><link rel="prefetch" href="/docs/assets/js/153.905ebc6a.js"><link rel="prefetch" href="/docs/assets/js/154.1d150c1f.js"><link rel="prefetch" href="/docs/assets/js/155.88f792e5.js"><link rel="prefetch" href="/docs/assets/js/156.f9844436.js"><link rel="prefetch" href="/docs/assets/js/157.cf5f5192.js"><link rel="prefetch" href="/docs/assets/js/158.c1f80418.js"><link rel="prefetch" href="/docs/assets/js/159.e6d158fb.js"><link rel="prefetch" href="/docs/assets/js/16.d04e8ed5.js"><link rel="prefetch" href="/docs/assets/js/160.8f988f82.js"><link rel="prefetch" href="/docs/assets/js/161.0aef5b24.js"><link rel="prefetch" href="/docs/assets/js/162.bb2a6d8b.js"><link rel="prefetch" href="/docs/assets/js/163.b0a7de42.js"><link rel="prefetch" href="/docs/assets/js/164.d7a24c8d.js"><link rel="prefetch" href="/docs/assets/js/165.400b76c3.js"><link rel="prefetch" href="/docs/assets/js/166.21b7ba45.js"><link rel="prefetch" href="/docs/assets/js/167.0760f2f5.js"><link rel="prefetch" href="/docs/assets/js/168.7020a7ea.js"><link rel="prefetch" href="/docs/assets/js/169.d9c3eefb.js"><link rel="prefetch" href="/docs/assets/js/17.d7b45611.js"><link rel="prefetch" href="/docs/assets/js/170.b3924db4.js"><link rel="prefetch" href="/docs/assets/js/171.80ac3741.js"><link rel="prefetch" href="/docs/assets/js/172.2292174d.js"><link rel="prefetch" href="/docs/assets/js/173.0d73eec9.js"><link rel="prefetch" href="/docs/assets/js/174.b9ced7ae.js"><link rel="prefetch" href="/docs/assets/js/175.5d7d4f19.js"><link rel="prefetch" href="/docs/assets/js/176.34fccdb2.js"><link rel="prefetch" href="/docs/assets/js/177.4420d4f7.js"><link rel="prefetch" href="/docs/assets/js/178.aeb363c8.js"><link rel="prefetch" href="/docs/assets/js/179.d8af6ddf.js"><link rel="prefetch" href="/docs/assets/js/18.d07a4208.js"><link rel="prefetch" href="/docs/assets/js/180.0ff01930.js"><link rel="prefetch" href="/docs/assets/js/181.c5380728.js"><link rel="prefetch" href="/docs/assets/js/182.6fab2012.js"><link rel="prefetch" href="/docs/assets/js/183.83648a2a.js"><link rel="prefetch" href="/docs/assets/js/184.ff6234b0.js"><link rel="prefetch" href="/docs/assets/js/185.26619218.js"><link rel="prefetch" href="/docs/assets/js/186.cc032a3a.js"><link rel="prefetch" href="/docs/assets/js/187.dbf99f1d.js"><link rel="prefetch" href="/docs/assets/js/188.10de4a01.js"><link rel="prefetch" href="/docs/assets/js/189.9b61b8d2.js"><link rel="prefetch" href="/docs/assets/js/19.bd08c40a.js"><link rel="prefetch" href="/docs/assets/js/190.bb614327.js"><link rel="prefetch" href="/docs/assets/js/191.efdec6cf.js"><link rel="prefetch" href="/docs/assets/js/192.bde85327.js"><link rel="prefetch" href="/docs/assets/js/193.08673081.js"><link rel="prefetch" href="/docs/assets/js/194.8017e9f8.js"><link rel="prefetch" href="/docs/assets/js/195.fed85bc0.js"><link rel="prefetch" href="/docs/assets/js/196.efab0ecd.js"><link rel="prefetch" href="/docs/assets/js/197.88049149.js"><link rel="prefetch" href="/docs/assets/js/198.12f88860.js"><link rel="prefetch" href="/docs/assets/js/199.3641b771.js"><link rel="prefetch" href="/docs/assets/js/20.eb3a3fc1.js"><link rel="prefetch" href="/docs/assets/js/200.003597f0.js"><link rel="prefetch" href="/docs/assets/js/201.3d76351f.js"><link rel="prefetch" href="/docs/assets/js/202.e92ca5b6.js"><link rel="prefetch" href="/docs/assets/js/203.e7fb5a65.js"><link rel="prefetch" href="/docs/assets/js/204.e5c2b8b2.js"><link rel="prefetch" href="/docs/assets/js/21.c994a51d.js"><link rel="prefetch" href="/docs/assets/js/22.356f679f.js"><link rel="prefetch" href="/docs/assets/js/23.a220a099.js"><link rel="prefetch" href="/docs/assets/js/24.e66078b6.js"><link rel="prefetch" href="/docs/assets/js/25.aebf7ce6.js"><link rel="prefetch" href="/docs/assets/js/26.6dc2ffef.js"><link rel="prefetch" href="/docs/assets/js/27.1d5b9d6c.js"><link rel="prefetch" href="/docs/assets/js/28.0e562eb3.js"><link rel="prefetch" href="/docs/assets/js/29.b3cbb259.js"><link rel="prefetch" href="/docs/assets/js/30.444e06cd.js"><link rel="prefetch" href="/docs/assets/js/31.531681f4.js"><link rel="prefetch" href="/docs/assets/js/32.078e460a.js"><link rel="prefetch" href="/docs/assets/js/33.078fd918.js"><link rel="prefetch" href="/docs/assets/js/34.2dd609d2.js"><link rel="prefetch" href="/docs/assets/js/35.c8fdeed3.js"><link rel="prefetch" href="/docs/assets/js/36.a83df91f.js"><link rel="prefetch" href="/docs/assets/js/37.f5726cb1.js"><link rel="prefetch" href="/docs/assets/js/38.f63dc1fb.js"><link rel="prefetch" href="/docs/assets/js/39.a1319c0c.js"><link rel="prefetch" href="/docs/assets/js/4.09ea1495.js"><link rel="prefetch" href="/docs/assets/js/40.a3a068ef.js"><link rel="prefetch" href="/docs/assets/js/41.ddb5b129.js"><link rel="prefetch" href="/docs/assets/js/42.3fcee6ce.js"><link rel="prefetch" href="/docs/assets/js/43.f69441a0.js"><link rel="prefetch" href="/docs/assets/js/44.2f557f99.js"><link rel="prefetch" href="/docs/assets/js/45.51dd138d.js"><link rel="prefetch" href="/docs/assets/js/46.f44fc5ae.js"><link rel="prefetch" href="/docs/assets/js/47.0d3ed25c.js"><link rel="prefetch" href="/docs/assets/js/48.ca44206a.js"><link rel="prefetch" href="/docs/assets/js/49.a55377d1.js"><link rel="prefetch" href="/docs/assets/js/5.49b8e3e7.js"><link rel="prefetch" href="/docs/assets/js/50.96267935.js"><link rel="prefetch" href="/docs/assets/js/51.38c1673b.js"><link rel="prefetch" href="/docs/assets/js/52.ee1538b9.js"><link rel="prefetch" href="/docs/assets/js/53.205a12f2.js"><link rel="prefetch" href="/docs/assets/js/54.dd740bd4.js"><link rel="prefetch" href="/docs/assets/js/55.4f18a6fb.js"><link rel="prefetch" href="/docs/assets/js/56.4ef00653.js"><link rel="prefetch" href="/docs/assets/js/57.2096318b.js"><link rel="prefetch" href="/docs/assets/js/58.f264c0b2.js"><link rel="prefetch" href="/docs/assets/js/59.c4eaceae.js"><link rel="prefetch" href="/docs/assets/js/6.6a1e5ab4.js"><link rel="prefetch" href="/docs/assets/js/60.7f6570d3.js"><link rel="prefetch" href="/docs/assets/js/61.ab4d7806.js"><link rel="prefetch" href="/docs/assets/js/62.73b8d206.js"><link rel="prefetch" href="/docs/assets/js/63.0ae1db07.js"><link rel="prefetch" href="/docs/assets/js/64.d2382361.js"><link rel="prefetch" href="/docs/assets/js/65.ac06a099.js"><link rel="prefetch" href="/docs/assets/js/66.6c13eb4a.js"><link rel="prefetch" href="/docs/assets/js/67.e95f3914.js"><link rel="prefetch" href="/docs/assets/js/68.65fd51a4.js"><link rel="prefetch" href="/docs/assets/js/69.e98f6a1d.js"><link rel="prefetch" href="/docs/assets/js/7.91c21b40.js"><link rel="prefetch" href="/docs/assets/js/70.b5a5bd37.js"><link rel="prefetch" href="/docs/assets/js/71.6090eb20.js"><link rel="prefetch" href="/docs/assets/js/72.301e0e4d.js"><link rel="prefetch" href="/docs/assets/js/73.ce2c81ea.js"><link rel="prefetch" href="/docs/assets/js/74.b46723df.js"><link rel="prefetch" href="/docs/assets/js/75.ed6e5d9e.js"><link rel="prefetch" href="/docs/assets/js/76.5a93e59e.js"><link rel="prefetch" href="/docs/assets/js/77.ec1bf770.js"><link rel="prefetch" href="/docs/assets/js/78.0e4467af.js"><link rel="prefetch" href="/docs/assets/js/79.7a19d26d.js"><link rel="prefetch" href="/docs/assets/js/8.acc64e20.js"><link rel="prefetch" href="/docs/assets/js/80.11b29f7e.js"><link rel="prefetch" href="/docs/assets/js/81.c926eeae.js"><link rel="prefetch" href="/docs/assets/js/82.adf861f2.js"><link rel="prefetch" href="/docs/assets/js/83.91ce33b8.js"><link rel="prefetch" href="/docs/assets/js/84.2d04bc80.js"><link rel="prefetch" href="/docs/assets/js/85.58babad3.js"><link rel="prefetch" href="/docs/assets/js/86.c5628cf6.js"><link rel="prefetch" href="/docs/assets/js/87.687b0f6f.js"><link rel="prefetch" href="/docs/assets/js/89.fde6a0b3.js"><link rel="prefetch" href="/docs/assets/js/9.f6ba011d.js"><link rel="prefetch" href="/docs/assets/js/90.2c5bc321.js"><link rel="prefetch" href="/docs/assets/js/91.14dca636.js"><link rel="prefetch" href="/docs/assets/js/92.fb8015c9.js"><link rel="prefetch" href="/docs/assets/js/93.48d9e64b.js"><link rel="prefetch" href="/docs/assets/js/94.2be8c3ea.js"><link rel="prefetch" href="/docs/assets/js/95.ddfc35e5.js"><link rel="prefetch" href="/docs/assets/js/96.a2e12849.js"><link rel="prefetch" href="/docs/assets/js/97.9ddcb88d.js"><link rel="prefetch" href="/docs/assets/js/98.a485cfcb.js"><link rel="prefetch" href="/docs/assets/js/99.4952f5a4.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.4cd6cf87.js">     <link rel="stylesheet" href="/docs/assets/css/0.styles.13173d6e.css">   </head>   <body>     <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewbox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Sprout Documentation</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Plugin Docs" class="dropdown-title"><span class="title">Plugin Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/forms/" class="nav-link router-link-active">   Sprout Forms </a></li><li class="dropdown-item"><!----> <a href="/docs/seo/" class="nav-link">   Sprout SEO </a></li><li class="dropdown-item"><!----> <a href="/docs/redirects/" class="nav-link">   Sprout Redirects </a></li><li class="dropdown-item"><!----> <a href="/docs/sitemaps/" class="nav-link">   Sprout Sitemaps </a></li><li class="dropdown-item"><!----> <a href="/docs/email/" class="nav-link">   Sprout Email </a></li><li class="dropdown-item"><!----> <a href="/docs/reports/" class="nav-link">   Sprout Reports </a></li><li class="dropdown-item"><!----> <a href="/docs/import/" class="nav-link">   Sprout Import </a></li><li class="dropdown-item"><!----> <a href="/docs/forms/.html" class="nav-link">   – </a></li><li class="dropdown-item"><!----> <a href="/docs/active/" class="nav-link">   Sprout Active </a></li><li class="dropdown-item"><!----> <a href="/docs/encode-email/" class="nav-link">   Sprout Encode Email </a></li><li class="dropdown-item"><!----> <a href="/docs/fields/" class="nav-link">   Sprout Fields </a></li><li class="dropdown-item"><!----> <a href="/docs/lists/" class="nav-link">   Sprout Lists </a></li><li class="dropdown-item"><!----> <a href="/docs/notes/" class="nav-link">   Sprout Notes </a></li></ul></div></div><div class="nav-item"><a href="https://sprout.barrelstrengthdesign.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">   Back to Sprout →   <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Plugin Docs" class="dropdown-title"><span class="title">Plugin Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/forms/" class="nav-link router-link-active">   Sprout Forms </a></li><li class="dropdown-item"><!----> <a href="/docs/seo/" class="nav-link">   Sprout SEO </a></li><li class="dropdown-item"><!----> <a href="/docs/redirects/" class="nav-link">   Sprout Redirects </a></li><li class="dropdown-item"><!----> <a href="/docs/sitemaps/" class="nav-link">   Sprout Sitemaps </a></li><li class="dropdown-item"><!----> <a href="/docs/email/" class="nav-link">   Sprout Email </a></li><li class="dropdown-item"><!----> <a href="/docs/reports/" class="nav-link">   Sprout Reports </a></li><li class="dropdown-item"><!----> <a href="/docs/import/" class="nav-link">   Sprout Import </a></li><li class="dropdown-item"><!----> <a href="/docs/forms/.html" class="nav-link">   – </a></li><li class="dropdown-item"><!----> <a href="/docs/active/" class="nav-link">   Sprout Active </a></li><li class="dropdown-item"><!----> <a href="/docs/encode-email/" class="nav-link">   Sprout Encode Email </a></li><li class="dropdown-item"><!----> <a href="/docs/fields/" class="nav-link">   Sprout Fields </a></li><li class="dropdown-item"><!----> <a href="/docs/lists/" class="nav-link">   Sprout Lists </a></li><li class="dropdown-item"><!----> <a href="/docs/notes/" class="nav-link">   Sprout Notes </a></li></ul></div></div><div class="nav-item"><a href="https://sprout.barrelstrengthdesign.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">   Back to Sprout →   <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">← All Plugins</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/" class="sidebar-link">About Sprout Forms</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Core Concepts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/forms.html" class="sidebar-link">Forms</a></li><li><a href="/docs/forms/form-fields.html" class="sidebar-link">Form Fields</a></li><li><a href="/docs/forms/entries.html" class="sidebar-link">Entries</a></li><li><a href="/docs/forms/notifications.html" class="sidebar-link">Notifications</a></li><li><a href="/docs/forms/reports.html" class="sidebar-link">Reports</a></li><li><a href="/docs/forms/conditional-rules.html" class="sidebar-link">Rules</a></li><li><a href="/docs/forms/integrations.html" class="sidebar-link">Integrations</a></li><li><a href="/docs/forms/spam-protection.html" class="sidebar-link">Spam Protection</a></li><li><a href="/docs/forms/importing-data.html" class="sidebar-link">Importing Data</a></li><li><a href="/docs/forms/plugin-settings.html" class="sidebar-link">Settings</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Form Fields</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/email-dropdown-field.html" class="sidebar-link">Email Dropdown Field</a></li><li><a href="/docs/forms/hidden-field.html" class="sidebar-link">Hidden Field</a></li><li><a href="/docs/forms/invisible-field.html" class="sidebar-link">Invisible Field</a></li><li><a href="/docs/forms/opt-in-field.html" class="sidebar-link">Opt-in Field</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Form Templates</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/default-form-templates.html" class="sidebar-link">Default Form Templates</a></li><li><a href="/docs/forms/template-overrides.html" class="sidebar-link">Template Overrides</a></li><li><a href="/docs/forms/rendering-options.html" class="sidebar-link">Rendering Options</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Examples</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/caching-and-csrf-tokens.html" class="sidebar-link">Caching &amp; CSRF Tokens</a></li><li><a href="/docs/forms/front-end-file-uploads.html" class="sidebar-link">Front-end File Uploads</a></li><li><a href="/docs/forms/hidden-fields.html" class="sidebar-link">Hidden Fields</a></li><li><a href="/docs/forms/pre-populating-a-field.html" class="sidebar-link">Pre-populating a Field</a></li><li><a href="/docs/forms/custom-html.html" class="sidebar-link">Custom HTML</a></li><li><a href="/docs/forms/display-errors-at-top-of-page.html" class="sidebar-link">Display Errors at top of page</a></li><li><a href="/docs/forms/thank-you-page.html" class="sidebar-link">Thank You Page</a></li><li><a href="/docs/forms/submitting-a-form-via-ajax.html" class="sidebar-link">Submitting a Form via AJAX</a></li><li><a href="/docs/forms/submission-limit.html" class="sidebar-link">Submission Limit</a></li><li><a href="/docs/forms/translating-forms.html" class="sidebar-link">Translating Forms</a></li><li><a href="/docs/forms/translating-error-messages.html" class="sidebar-link">Translating Error Messages</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/custom-form-templates.html" class="sidebar-link">Form Templates</a></li><li><a href="/docs/forms/custom-form-fields.html" class="sidebar-link">Form Fields</a></li><li><a href="/docs/forms/custom-captchas.html" class="sidebar-link">Captchas</a></li><li><a href="/docs/forms/custom-integrations.html" class="sidebar-link">Integrations</a></li><li><a href="/docs/forms/events-and-hooks.html" class="sidebar-link">Events &amp; Hooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Installing &amp; Updating</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/forms/installing-and-updating-craft-3.html" class="active sidebar-link">Craft 3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#installation-via-plugin-store" class="sidebar-link">Installation via Plugin Store</a></li><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#installation-via-composer" class="sidebar-link">Installation via Composer</a></li><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#upgrading-to-craft-3" class="sidebar-link">Upgrading to Craft 3</a></li><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#upgrading-to-forms-3-4-1" class="sidebar-link">Upgrading to Forms 3.4.1</a></li><li class="sidebar-sub-header"><a href="/docs/forms/installing-and-updating-craft-3.html#upgrading-to-forms-v3-5-0" class="sidebar-link">Upgrading to Forms v3.5.0</a></li></ul></li><li><a href="/docs/forms/installing-and-updating-craft-2.html" class="sidebar-link">Craft 2</a></li><li><a href="/docs/forms/faq.html" class="sidebar-link">FAQ</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1>Craft 3</h1> <p>Sprout Forms installation and update instructions for Craft 3.</p> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <ul><li>Craft CMS 3.3.0 or a more recent version of Craft</li></ul> <h2 id="installation-via-plugin-store"><a href="#installation-via-plugin-store" class="header-anchor">#</a> Installation via Plugin Store</h2> <ol><li>Find the plugin in the Plugin Store in your Craft Control Panel</li> <li>Go to <em>Settings → Plugins</em> and select “Install”</li></ol> <h2 id="installation-via-composer"><a href="#installation-via-composer" class="header-anchor">#</a> Installation via Composer</h2> <div><ol><li>Open your terminal and go to your Craft project:<br><code>cd /path/to/project</code></li> <li>Then tell Composer to load the plugin:<br><code>composer require barrelstrength/sprout-forms</code></li> <li>In the Control Panel, go to <em>Settings → Plugins</em> and select “Install”</li></ol></div><h2 id="upgrading-to-craft-3"><a href="#upgrading-to-craft-3" class="header-anchor">#</a> Upgrading to Craft 3</h2> <div class="custom-block warning"><p class="custom-block-title">BEFORE YOU UPDATE</p> <p>Make sure you have updated to the latest version of Sprout Forms 2.x before updating to Sprout Forms 3.x for Craft 3</p></div> <h3 id="form-field-changes"><a href="#form-field-changes" class="header-anchor">#</a> Form Field changes</h3> <p>In Craft 2, Sprout Forms extended the Craft Field Layout Editor and allowed you to add any field that Craft supported to a Form. While you could add any field on the back-end, Sprout only supported output the HTML for a subset of the fields on the front-end. In particular, more advanced fields like the Matrix had to supported manually in the templates.</p> <p>In Craft 3, Sprout Forms added a new Form Field API that now requires Form Fields to have both front-end and back-end support. If you happen to be using a more advanced field type that was supported by Craft but not by Sprout Forms in Craft 2, you may need to develop a <a href="/docs/forms/custom-form-fields.html">Custom Form Field</a> to support that field in Craft 3.</p> <h3 id="template-changes"><a href="#template-changes" class="header-anchor">#</a> Template Changes</h3> <p>Read over the <a href="https://docs.craftcms.com/v3/changes-in-craft-3.html" target="_blank" rel="noopener noreferrer">Changes in Craft 3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for a general overview of things that have changed. These changes have affected Sprout Forms in several ways and if you have built any Forms with custom HTML you will likely need to update your code.</p> <h4>The Action URL format and Redirect URL format</h4> <div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Craft 3</a></li><li><a>Craft 2</a></li></ul> <div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept-charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span> 	<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">csrfInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> 	<span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sprout-forms/entries/save-entry<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span> 	<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">redirectInput</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">&quot;</span>/contact?message=thankyou<span class="token punctuation">&quot;</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> 	<span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 	 	...  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></span> </code></pre></div></div><div><!----></div></div> <h4>Retrieving a form</h4> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">form</span> <span class="token operator">=</span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">sproutForms</span><span class="token punctuation">.</span><span class="token property">form</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>contact<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div><h4>Identifying a field by type</h4> <div><p>Where <code>field</code> is a Form Field model:</p></div><div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Craft 3</a></li><li><a>Craft 2</a></li></ul> <div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">field</span><span class="token punctuation">.</span><span class="token property">getFieldInputFolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string"><span class="token punctuation">'</span>dropdown<span class="token punctuation">'</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>     <span class="token other">...</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div></div><div><!----></div></div> <h4>Displaying Tabs and Fields in Custom Templates</h4> <div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Craft 3</a></li><li><a>Craft 2</a></li></ul> <div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token comment">{# form.html #}</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">for</span></span> <span class="token property">tab</span> <span class="token operator">in</span> <span class="token property">form</span><span class="token punctuation">.</span><span class="token property">getFieldLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">getTabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>     <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">sproutForms</span><span class="token punctuation">.</span><span class="token property">displayTab</span><span class="token punctuation">(</span><span class="token property">form</span><span class="token punctuation">,</span> <span class="token property">tab</span><span class="token punctuation">.</span><span class="token property">id</span><span class="token punctuation">,</span> <span class="token property">renderingOptions</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>  <span class="token comment">{# tab.html #}</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">field</span> <span class="token operator">in</span> <span class="token property">layoutFields</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>     <span class="token tag"><span class="token ld"><span class="token punctuation">{{-</span></span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">sproutForms</span><span class="token punctuation">.</span><span class="token property">displayField</span><span class="token punctuation">(</span><span class="token property">form</span><span class="token punctuation">,</span> <span class="token property">field</span><span class="token punctuation">,</span> <span class="token property">renderingOptions</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div></div><div><!----></div></div> <h3 id="notification-email-changes"><a href="#notification-email-changes" class="header-anchor">#</a> Notification Email Changes</h3> <p>The default Notification Email will now exclude several fields that may include sensitive or irrelevant information for a Notification Email. These fields include:</p> <ul><li>Custom HTML</li> <li>Hidden Field</li> <li>Invisible Field</li> <li>Private Notes Field</li> <li>Section Heading Field</li></ul> <p>If you require these fields to be displayed in a Notification Email or wish to update the logic around which of them that do, you will need to override the default template and customize it to your needs. See <a href="https://craftcms.stackexchange.com/a/29650/115" target="_blank" rel="noopener noreferrer">this response<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on Stack Exchange for more info.</p> <h2 id="upgrading-to-forms-3-4-1"><a href="#upgrading-to-forms-3-4-1" class="header-anchor">#</a> Upgrading to Forms 3.4.1</h2> <p>Sprout Forms v3.4.1 introduces a handful of changes to make the Integrations API more flexible for custom Integrations. The general Integration architecture has stayed the same but several methods have been renamed. Please be sure to test any Custom Integrations while upgrading to 3.4.1 and consider the following changes:</p> <h3 id="removed"><a href="#removed" class="header-anchor">#</a> Removed</h3> <div><ul><li>Removed base Integration <code>updateTargetFieldsAction</code> and <code>updateSourceFieldsAction</code> dependencies in favor of <code>updateTargetFieldsOnChange</code> to allow Integrations to dynamically target fields to watch for changes</li> <li>Removed <code>prepareFieldTypeSelection</code> and <code>prepareIntegrationTypeSelection</code> variables and methods and simplified how Integration Types field is populated in modal templates</li></ul></div><h3 id="moved"><a href="#moved" class="header-anchor">#</a> Moved</h3> <div><ul><li>Moved <code>getFieldsAsOptionsByRow</code>, <code>getCompatibleFields</code>, and <code>getTargetIntegrationFieldsAsMappingOptions</code> from <code>IntegrationsController</code> to <code>EntryElementIntegration</code> class</li></ul></div><h3 id="renamed"><a href="#renamed" class="header-anchor">#</a> Renamed</h3> <div><ul><li>Renamed <code>getFormFieldsAsMappingOptions</code> =&gt; <code>getSourceFormFieldsAsMappingOptions</code></li> <li>Renamed <code>actionGetElementEntryFields</code> =&gt; <code>actionGetTargetIntegrationFields</code> and updated it to instantiate and populate an Integration dynamically and trigger the <code>getTargetIntegrationFieldsAsMappingOptions</code> on a given Integration</li> <li>Renamed <code>prepareFieldMapping</code> =&gt; <code>refreshFieldMapping</code> and moved to base Integration class init method</li> <li>Renamed <code>resolveFieldMapping</code> =&gt; <code>getTargetIntegrationFieldValues</code> and moved to base Base Integration class</li> <li>Renamed IntegrationTrait property <code>entry</code> =&gt; <code>formEntry</code></li></ul></div><h2 id="upgrading-to-forms-v3-5-0"><a href="#upgrading-to-forms-v3-5-0" class="header-anchor">#</a> Upgrading to Forms v3.5.0</h2> <p>Sprout Forms v3.5.0 adds support for Field Rules and includes updates to the Form Templates and Email Templates to support the new conditional behavior. In addition, Form Templates have been optimized to simplify the amount of javascript required in the templates. Form Templates and all javascript can still be customized however you need.</p> <p>If your Forms use the Form Templates and Email Templates provided by Sprout Forms, no updates are needed. For Forms using custom Form Templates:</p> <h3 id="form-templates"><a href="#form-templates" class="header-anchor">#</a> Form Templates</h3> <p>Several updates have been made to the Form Templates to optimize the javascript used in the templates and add support for Field Rules.</p> <h4>Added support for rules</h4> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">ADDED RULES VARIABLE</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">set</span></span> <span class="token property">rules</span> <span class="token operator">=</span> <span class="token property">form</span><span class="token punctuation">.</span><span class="token property">getRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>  <span class="token other">ADDED RULES DATA ATTRIBUTE &lt;form method=&quot;post&quot; accept-charset=&quot;utf-8&quot; enctype=&quot;multipart/form-data&quot;</span>     <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">if</span></span> <span class="token property">id</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> <span class="token other">id=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>     <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">if</span></span> <span class="token property">class</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> <span class="token other">class=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">class</span> <span class="token rd"><span class="token punctuation">-}}</span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">if</span></span> <span class="token property">errors</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">errorClass</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">-%}</span></span></span><span class="token other">&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>     <span class="token other">data-rules=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">rules</span><span class="token operator">|</span><span class="token property">json_encode</span><span class="token operator">|</span><span class="token property">raw</span><span class="token operator">|</span><span class="token property">e</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>html<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot; &gt;</span> </code></pre></div><h4>Updated javascript</h4> <p>The latest form templates remove most JS from the templates and now include it via files. JS classes that require initialization have been simplified to only require the ID. The JS has also been updated to set the CSRF token name. The CSRF token value will be retrieved dynamically as necessary.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">OLD <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token comment">// ... Lots of JS</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  NEW</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">set</span></span> <span class="token property">accessibilityJsUrl</span> <span class="token operator">=</span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">getAssetManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">getPublishedUrl</span><span class="token punctuation">(</span>     <span class="token string"><span class="token punctuation">'</span>@sproutforms/web/assets/formtemplates/dist/js/accessibility.js<span class="token punctuation">'</span></span><span class="token punctuation">,</span>     <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">do</span></span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">registerJsFile</span><span class="token punctuation">(</span><span class="token property">accessibilityJsUrl</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>     <span class="token property">position</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>  <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">set</span></span> <span class="token property">rulesJsUrl</span> <span class="token operator">=</span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">getAssetManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">getPublishedUrl</span><span class="token punctuation">(</span>     <span class="token string"><span class="token punctuation">'</span>@sproutforms/web/assets/formtemplates/dist/js/rules.js<span class="token punctuation">'</span></span><span class="token punctuation">,</span>     <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">do</span></span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">registerJsFile</span><span class="token punctuation">(</span><span class="token property">rulesJsUrl</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>  <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">set</span></span> <span class="token property">addressFieldJsUrl</span> <span class="token operator">=</span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">getAssetManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">getPublishedUrl</span><span class="token punctuation">(</span>     <span class="token string"><span class="token punctuation">'</span>@sproutforms/web/assets/formtemplates/dist/js/addressfield.js<span class="token punctuation">'</span></span><span class="token punctuation">,</span>     <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%-</span> <span class="token keyword">do</span></span> <span class="token property">view</span><span class="token punctuation">.</span><span class="token property">registerJsFile</span><span class="token punctuation">(</span><span class="token property">addressFieldJsUrl</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">-%}</span></span></span>  <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">js</span></span> <span class="token property">at</span> <span class="token property">endBody</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>     <span class="token other">(function() {     window.csrfTokenName = &quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">app</span><span class="token punctuation">.</span><span class="token property">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">getGeneral</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">csrfTokenName</span><span class="token operator">|</span><span class="token property">e</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>js<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot;;     new SproutFormsAddressField('</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">');     new SproutFormsCheckableInputs('</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">');     new SproutFormsRules('</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">');     })();</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endjs</span></span> <span class="token rd"><span class="token punctuation">-%}</span></span></span> </code></pre></div><h3 id="email-templates"><a href="#email-templates" class="header-anchor">#</a> Email Templates</h3> <p>Email Templates can now check if a field is hidden by a field rule:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">OLD</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">field</span> <span class="token operator">in</span> <span class="token property">fields</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token property">field</span><span class="token punctuation">.</span><span class="token property">isPlainInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>  <span class="token other">NEW</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">field</span> <span class="token operator">in</span> <span class="token property">fields</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token property">field</span><span class="token punctuation">.</span><span class="token property">isPlainInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token operator">not</span> <span class="token property">entry</span><span class="token punctuation">.</span><span class="token property">getIsFieldHiddenByRule</span><span class="token punctuation">(</span><span class="token property">field</span><span class="token punctuation">.</span><span class="token property">handle</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div><h3 id="other-changes"><a href="#other-changes" class="header-anchor">#</a> Other changes</h3> <div><ul><li>Removed <code>barrelstrength\sproutforms\elements\Form::deleteById()</code>. Use Elements Service <code>deleteElementById</code> instead.</li> <li>Removed <code>barrelstrength\sproutforms\web\twig\variables\getIntegrationById()</code>. Use Integrations service via Template API instead.</li></ul></div><p>Custom integrations may also need to update how they initialize the target field column in the Field Mapping table:</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">// OLD new Craft.SproutForms.Integration({   integrationType: '</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">className</span><span class="token punctuation">(</span><span class="token property">integration</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token property">e</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>js<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">' });  // NEW new SproutFormsIntegration({   integrationType: '</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">className</span><span class="token punctuation">(</span><span class="token property">integration</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token property">e</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>js<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">' });</span> </code></pre></div><h3 id="updating-to-forms-v3-6-0"><a href="#updating-to-forms-v3-6-0" class="header-anchor">#</a> Updating to Forms v3.6.0</h3> <p>This release adds several improvements to Spam workflows and has touched on several areas of the Entry Submission workflow. Some breaking changes have been introduced so users with more custom form implementations will want to review what has changed to get things updated properly.</p> <h3 id="form-templates-2"><a href="#form-templates-2" class="header-anchor">#</a> Form Templates</h3> <p>Custom Form Templates will need to update the class name used in the default conditional logic to correctly hide fields used in conditional logic rules.</p> <div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">OLD</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">css</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>     <span class="token other">.hidden {     display: none !important;     }</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endcss</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>  <span class="token other">NEW</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">css</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>     <span class="token other">.sprout-hidden {     display: none !important;     }</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endcss</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div><h3 id="entry-queries-using-status-handles"><a href="#entry-queries-using-status-handles" class="header-anchor">#</a> Entry Queries using Status Handles</h3> <div><p>The <code>statusHandle</code> attribute has been removed as the same behavior is available via the Element <code>status</code> attribute.</p></div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other">OLD</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">formEntry</span> <span class="token operator">in</span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">sproutForms</span><span class="token punctuation">.</span><span class="token property">entries</span>   <span class="token punctuation">.</span><span class="token property">formHandle</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>contact<span class="token punctuation">'</span></span><span class="token punctuation">)</span>   <span class="token punctuation">.</span><span class="token property">statusHandle</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>pending<span class="token punctuation">'</span></span><span class="token punctuation">)</span>   <span class="token punctuation">.</span><span class="token property">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>   <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">formEntry</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>  <span class="token other">NEW</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">formEntry</span> <span class="token operator">in</span> <span class="token property">craft</span><span class="token punctuation">.</span><span class="token property">sproutForms</span><span class="token punctuation">.</span><span class="token property">entries</span>   <span class="token punctuation">.</span><span class="token property">formHandle</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>contact<span class="token punctuation">'</span></span><span class="token punctuation">)</span>   <span class="token punctuation">.</span><span class="token property">status</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>pending<span class="token punctuation">'</span></span><span class="token punctuation">)</span>   <span class="token punctuation">.</span><span class="token property">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>   <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">formEntry</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span> </code></pre></div><h3 id="custom-captchas"><a href="#custom-captchas" class="header-anchor">#</a> Custom Captchas</h3> <p>The Captcha API has been updated.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">OLD</span> <span class="token punctuation">(</span>OnBeforeSaveEntryEvent<span class="token punctuation">)</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">isValid</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">fakeIt</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">entry</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addError</span><span class="token punctuation">(</span>Entry<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CAPTCHA_ERRORS_KEY</span><span class="token punctuation">,</span> <span class="token variable">$errorMessage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">NEW</span> <span class="token punctuation">(</span>OnBeforeValidateEntryEvent<span class="token punctuation">)</span> <span class="token comment">// isValid is now handled by checking for Errors on the model</span> <span class="token comment">// fakeIt is now handled via the 'Spam Redirect Behavior' setting in the CP</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addError</span><span class="token punctuation">(</span>self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CAPTCHA_ERRORS_KEY</span><span class="token punctuation">,</span> <span class="token variable">$errorMessage</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre></div><div><p>Previously, captcha validation ran during the <code>OnBeforeSaveEntryEvent</code> Event and used the <code>isValid</code> and <code>fakeIt</code> attributes on the event to control the flow of how the rest of the request got processed. Now, the active Captchas get processed on the <code>OnBeforeValidateEntryEvent</code> Event, errors are added to the Captcha models, and the Captcha models are added to the <code>Entry::captchas</code> attribute. This gives us a lot more flexibility on how to give the user control over this workflow in the CP and how we track errors when entries are flagged as Spam.</p></div><h3 id="events"><a href="#events" class="header-anchor">#</a> Events</h3> <h4>OnBeforePopulateEntryEvent</h4> <div><p>The <code>isValid</code> and <code>fakeIt</code> attributes have been removed as they were never used in the validation workflow.</p></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">REMOVED</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">isValid</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">fakeIt</span> </code></pre></div><h4>OnBeforeValidateEntryEvent</h4> <div><p>The <code>isValid</code> and <code>fakeIt</code> attributes have been removed as they were never used in the validation workflow.</p></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">REMOVED</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">isValid</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">fakeIt</span> </code></pre></div><h4>OnBeforeSaveEntryEvent</h4> <div><p>The <code>fakeIt</code> attribute has been removed as it is not longer used in the validation workflow. Use the 'Spam Redirect Behavior' setting instead. The <code>isValid</code> and <code>errors</code> attributes remain on this event and can be used by developers as a final opportunity to add custom validation behavior. However, it is recommended to create a Custom Captcha and add errors to the Captcha model when <code>verifySubmission</code> is validated.</p></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">REMOVED</span> <span class="token variable">$event</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">fakeIt</span> </code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/barrelstrength/sprout-docs/edit/develop/docs/forms/installing-and-updating-craft-3.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">       ←       <a href="/docs/forms/events-and-hooks.html" class="prev">         Events &amp; Hooks       </a></span> <span class="next"><a href="/docs/forms/installing-and-updating-craft-2.html">         Craft 2       </a>       →     </span></p></div> </main></div><div class="global-ui"></div></div>     <script src="/docs/assets/js/app.2df69337.js" defer></script><script src="/docs/assets/js/3.cebffabe.js" defer></script><script src="/docs/assets/js/88.c1a5beef.js" defer></script>   </body> </html>